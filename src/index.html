<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitch Points OBS Source Toggler</title>
    <link rel="stylesheet" href="assets/css/light-theme.css" id="theme-link">
    <link rel="stylesheet" href="assets/css/index.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <link rel="stylesheet" href="index.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  </head>
  <body>

    <div class="row">
      <div class="column1">

        <div class="main-title">OBS Control</div>
    
    
        <h5>OBS Websocket Settings</h5>
        <!-- Numeric Textfield -->
        <form action="#" onsubmit="return false">
          <div class="mdl-textfield mdl-js-textfield">
            <input class="mdl-textfield__input" type="text" id="twitch-user">
            <label class="mdl-textfield__label" for="twitch-user">Twitch User</label>
          </div>
          <div class="mdl-textfield mdl-js-textfield">
            <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" value="4444" id="websocket-port">
            <label class="mdl-textfield__label" for="websocket-port">Port</label>
            <span class="mdl-textfield__error">Input is not a number!</span>
          </div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="password" value="changeme" id="websocket-password">
            <label class="mdl-textfield__label" for="sample3">Password</label>
          </div>
          <div class="mdl-textfield mdl-js-textfield">
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" type="submit" onclick="save()" id="save-button">
              Save
            </button>
            <div class="mdl-tooltip" data-mdl-for="save-button">
              Save twitch username and OBS Proxy settings to local storage
            </div>
          </div>
        </form>
        
        <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" onclick="connectObs()" id="obsConnect">
          Connect OBS
        </button>
        <div class="mdl-tooltip" data-mdl-for="obsConnect">
          Verify all proxy settings are correct and connect to your obs client
        </div>
        <button class="hidden mdl-button mdl-js-button mdl-button--raised mdl-button--colored" onclick="disconnectObs()" id="obsDisconnect">
          Disconnect
        </button>
        <button id="show-dialog" type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
          Twitch API Settings
        </button>
        
      </div>
      <div class="column2 scenes">
        <div class="mid-column2">
          <div class="sub-title">Rewards List</div>
          <select name="rewards" class="mdl-textfield__input" id="rewards"></select>
        </div>
        <div class="mid-column1">
          <div class="sub-title">OBS Scenes</div>
          <select name="scenes" class="mdl-textfield__input" id="scenes" onchange="onSceneSelectionChange()"></select>
        </div>
        <div class="mid-column2">
          <div class="sub-title">OBS Sources</div>
          <select name="sources" class="mdl-textfield__input" id="sources" onchange="onSourceSelectionChange()"></select>
        </div>
        <div class="mid-column3">
          <div class="sub-title2" id="time-title">Timed? (Sec)</div>
          <div class="mdl-tooltip" data-mdl-for="time-title">
            Sets a timer for duration of source toggle. Set 0 if you want to just toggle on and off.
            Set the number of seconds the media is.
          </div>
          <div class="mdl-textfield mdl-js-textfield">
            <input class="mdl-textfield__input" type="text" pattern="^[+]?([0-9]+(?:[\.][0-9]*)?|\.[0-9]+)$" value="0" id="time-input">
            <label class="mdl-textfield__label" for="time-input">Timed?</label>
            <span class="mdl-textfield__error">Input is not an acceptable number!</span>
          </div>
        </div>
        <form action="#" onsubmit="return false">
          <div class="button-list">
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" type="submit" onclick="mapSourceReward()">
              Add to List
            </button>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="connectTwitch()" id="connect-twitch-btn">
              Connect Twitch
            </button>
            <button class="hidden mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="disconnectTwitch()" id="disconnect-twitch-btn">
              Disconnect Twitch
            </button>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="testToggleSource()">
              Test Toggle
            </button>
          </div>
        </form>
      </div>
    </div>
    <div class="reward-points-list">
      <!-- <ul class="mdl-list" id="points-source-list">
      </ul> -->
      <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp list-table-props" id="points-source-list">
        <thead>
          <tr>
            <th class="mdl-data-table__cell--non-numeric">Reward</th>
            <th>Scene</th>
            <th>Source</th>
            <th>Seconds</th>
            <th>Group</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="mdl-data-table__cell--non-numeric">Acrylic (Transparent)</td>
            <td>25</td>
            <td>$2.90</td>
            <td>25</td>
            <td>$2.90</td>
          </tr>
          <tr>
            <td class="mdl-data-table__cell--non-numeric">Plywood (Birch)</td>
            <td>50</td>
            <td>$1.25</td>
            <td>50</td>
            <td>$1.25</td>
          </tr>
          <tr>
            <td class="mdl-data-table__cell--non-numeric">Laminate (Gold on Blue)</td>
            <td>10</td>
            <td>$2.35</td>
            <td>10</td>
            <td>$2.35</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="theme-switch-button">
      <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="theme-switch">
        <input type="checkbox" id="theme-switch" class="mdl-switch__input">
        <span class="mdl-switch__label"></span>
      </label>
    </div>

    <div id="demo-snackbar-example" class="mdl-js-snackbar mdl-snackbar">
      <div class="mdl-snackbar__text"></div>
      <button class="mdl-snackbar__action" type="button"></button>
    </div>

  <dialog class="mdl-dialog">
    <h4 class="mdl-dialog__title">Twitch API Client Data</h4>
    <div class="mdl-dialog__content">
      <div class="mdl-textfield mdl-js-textfield">
        <input class="mdl-textfield__input" type="text" id="twitch-api-client-id-input">
        <label class="mdl-textfield__label" for="twitch-api-client-id-input">Client ID</label>
      </div>
      <div class="mdl-textfield mdl-js-textfield">
        <input class="mdl-textfield__input" type="text" id="twitch-api-client-secret-input">
        <label class="mdl-textfield__label" for="twitch-api-client-secret-input">Client Secret</label>
      </div>
      <div class="mdl-textfield mdl-js-textfield">
        <input class="mdl-textfield__input" type="text" id="twitch-oauth-input">
        <label class="mdl-textfield__label" for="twitch-oauth-input">OAuth Token</label>
      </div>
    </div>
    <div class="mdl-dialog__actions">
      <button type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored close" id="twitch-api-cancel">Cancel</button>
      <button type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" id="twitch-api-save">Save</button>
      <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="getToken()">
        Get Token
      </button>
    </div>
    <div class="small-text">Scopes:</div>
    <div class="small-text-red">channel:manage:redemptions channel:read:redemptions channel:read:hype_train channel:read:subscriptions moderation:read moderation:read user:edit user:read:email chat:edit chat:read</div>
  </dialog>

  </body>
  <script src="assets/js/main-packages.js"></script>
  <script src="index.js"></script>
  <script src="assets/js/theme-switcher.js"></script>

</html>
